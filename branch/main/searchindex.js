Search.setIndex({"docnames": ["cpu-runs", "general-considerations", "guide", "index", "introduction", "md-algorithm", "multi-gpu", "navigator", "puhti", "quick-reference", "using-pme"], "filenames": ["cpu-runs.rst", "general-considerations.rst", "guide.rst", "index.rst", "introduction.rst", "md-algorithm.rst", "multi-gpu.rst", "navigator.rst", "puhti.rst", "quick-reference.rst", "using-pme.rst"], "titles": ["Using CPUs efficiently", "General considerations for performance", "Instructor\u2019s guide", "GROMACS GPU performance", "Introduction", "Getting performance from the MD algorithm", "Using multiple GPUs", "Understanding Navigator GPU nodes", "Understanding Puhti GPU nodes", "Quick Reference", "Performant PME simulations"], "terms": {"should": [0, 1, 3, 4, 7, 8], "i": [0, 1, 4, 6, 7, 8, 10], "singl": [0, 1, 5, 6, 7, 8], "trajectori": [0, 1, 5, 6, 10], "v": [0, 10], "high": 0, "throughput": 0, "understand": [0, 3, 5], "differ": [0, 1, 5, 6, 7, 8, 10], "between": [0, 1, 4, 5, 7, 8], "In": [0, 3, 7, 8, 10], "gromac": [0, 1, 5, 6, 7, 8, 10], "ar": [0, 1, 3, 4, 5, 6, 7, 8, 10], "two": [0, 1, 5, 10], "parallel": [0, 1, 3, 5], "The": [0, 1, 3, 4, 5, 7, 8, 10], "first": [0, 6, 7, 10], "one": [0, 1, 4, 5, 6, 7, 8, 10], "domain": [0, 3, 5, 6], "decomposit": [0, 6], "simul": [0, 3, 4], "volum": 0, "divid": [0, 7, 8], "over": [0, 4, 5], "sever": [0, 1, 5, 10], "region": [0, 5], "call": [0, 5, 10], "each": [0, 1, 3, 4, 5, 6, 7, 8, 10], "assign": [0, 5, 6, 7, 8, 10], "commun": 0, "when": [0, 1, 3, 6, 7, 8], "need": [0, 5, 6, 7, 8, 10], "second": [0, 6, 10], "more": [0, 1, 3, 4, 5, 6, 7, 8, 10], "granular": 0, "which": [0, 1, 4, 5, 10], "spawn": 0, "within": 0, "extra": [0, 5, 10], "inde": [0, 6], "contain": [0, 5, 6, 10], "than": [0, 1, 4, 5, 6, 7, 8, 10], "particl": [0, 4, 5], "can": [0, 1, 3, 4, 5, 6, 7, 8, 10], "propag": 0, "independ": [0, 5], "part": [0, 4, 5, 7, 8, 10], "map": [0, 6, 10], "handl": [0, 5], "other": [0, 1, 3, 5, 6, 7, 8, 10], "send": 0, "receiv": 0, "data": [0, 5, 7, 8, 10], "border": 0, "halo": [0, 6], "fine": 0, "grain": [0, 5], "allow": [0, 6], "simultan": 0, "let": [0, 5, 6, 10], "u": [0, 5, 6, 10], "mani": [0, 4, 5, 6, 7, 8, 10], "core": [0, 1, 5, 6, 10], "we": [0, 3, 5, 6, 7, 8, 10], "go": [0, 4, 6, 7, 8], "entir": 0, "node": [0, 1, 3], "cluster": [0, 3, 4, 5, 7, 8], "onli": [0, 1, 4, 5, 10], "correspond": [0, 5, 10], "gpu": [0, 1, 4], "On": [0, 5, 6], "puhti": [0, 3, 5, 6], "thi": [0, 1, 3, 4, 5, 6, 7, 8, 10], "10": [0, 1, 3, 5, 6, 7, 8, 10], "start": [0, 1, 5, 6, 7, 8, 10], "follow": [0, 3], "job": [0, 4, 5, 6, 10], "script": [0, 5, 6, 7, 8, 10], "bin": [0, 7, 8], "bash": [0, 7, 8], "sbatch": [0, 5, 6, 7, 8, 10], "time": [0, 1, 4, 5, 6, 7, 8, 10], "00": [0, 6, 7, 8], "15": [0, 3, 5, 6, 8], "partit": [0, 6, 7, 8], "test": [0, 6], "ntask": [0, 6, 7, 8], "xx": 0, "per": [0, 1, 6, 7, 8], "task": [0, 3, 4, 6, 7, 8, 10], "yy": 0, "account": [0, 6, 7, 8], "project_2003752": [0, 6, 8], "modul": [0, 5, 6, 7, 8], "purg": [0, 6, 8], "load": [0, 1, 5, 6, 7, 8], "env": [0, 5, 6, 8], "2021": [0, 5, 6, 8, 10], "export": [0, 5, 6, 7, 8], "omp_num_thread": [0, 5, 6, 7, 8], "slurm_cpus_per_task": [0, 5, 6, 7, 8, 10], "srun": [0, 5, 6, 7, 8, 10], "gmx_mpi": [0, 1, 4, 8], "mdrun": [0, 1, 4, 5, 6, 7, 8], "ntomp": [0, 5, 6, 10], "nstep": [0, 5, 6, 10], "20000": [0, 5, 6, 10], "resetstep": [0, 5, 6, 10], "19000": [0, 5, 6, 10], "modifi": [0, 10], "so": [0, 1, 3, 4, 5, 6, 7, 8, 10], "all": [0, 3, 4, 5, 6, 7, 8, 10], "try": [0, 6], "some": [0, 1, 4, 5, 7, 8, 10], "intermedi": 0, "valu": [0, 3, 4, 5, 10], "both": [0, 5, 7, 8, 10], "1": [0, 1, 6], "2": [0, 1, 6, 7, 8], "For": [0, 1, 3, 5, 7, 8], "exampl": [0, 1, 3, 7, 8], "5": [0, 1, 3, 5], "note": [0, 3, 5, 10], "line": [0, 5, 6, 10], "gmx": [0, 1, 4, 5, 6, 7, 10], "output": [0, 1, 4, 5, 6, 7, 8, 10], "non": [0, 6, 7, 8, 10], "default": [0, 4, 5, 6, 10], "affin": 0, "set": [0, 1, 5, 6], "disabl": 0, "intern": [0, 5, 7, 8], "mean": [0, 10], "pin": [0, 5, 6, 10], "execut": [0, 5, 6, 10], "jump": 0, "from": [0, 1, 3, 6, 7, 8], "anoth": [0, 4], "numa": [0, 7, 8], "veri": [0, 1, 4, 10], "ineffici": [0, 5], "becaus": [0, 1, 5, 7, 8, 10], "local": [0, 7, 8], "broken": 0, "overcom": 0, "enforc": 0, "pinstrid": [0, 5, 6, 10], "option": [0, 5, 6, 10], "how": [0, 3, 4, 6, 7, 8, 10], "thei": [0, 1, 5, 6, 7, 8, 10], "distribut": [0, 10], "consecut": 0, "system": [0, 1, 5, 10], "where": [0, 1, 3, 4, 5, 6, 7, 8, 10], "multithread": 0, "smt": 0, "enabl": [0, 6, 7, 8], "mai": [0, 3, 5, 6, 10], "want": [0, 4, 5], "physic": [0, 1, 5], "see": [0, 5, 6, 10], "good": [0, 5, 10], "our": [0, 5], "most": [0, 3, 4, 7, 8], "previou": [0, 6, 10], "20": [0, 3, 7, 8, 10], "far": 0, "linear": [0, 6], "provid": [0, 3, 5, 10], "create_input": 0, "sh": [0, 5, 6, 7, 8, 10], "creat": 0, "input": [0, 5, 6, 10], "4": [0, 1, 3, 7, 8, 10], "cumul": [0, 6], "number": [0, 5, 7, 8], "n": [0, 5, 6, 10], "dai": [0, 5, 6, 10], "5000": 0, "atom": 0, "sub": 0, "optim": [0, 3, 4, 10], "twice": 0, "give": [0, 1, 3, 6, 10], "50": [0, 3], "gain": [0, 6], "better": [0, 4, 5, 10], "bigger": 0, "md": [0, 3, 4], "multidir": [0, 1], "ensemble_input": 0, "repl_01": 0, "repl_02": 0, "affect": [0, 7, 8], "en": 0, "what": [1, 4, 6, 7, 8, 10], "thing": [1, 4, 5], "think": 1, "about": [1, 10], "while": [1, 5, 6, 10], "up": [1, 5, 6, 10], "know": [1, 4, 5, 6, 10], "common": [1, 3, 5, 6], "pitfal": 1, "avoid": 1, "here": [1, 5], "": [1, 3, 4, 5, 7, 8, 10], "short": [1, 4, 10], "list": [1, 4, 5, 10], "consid": [1, 4], "your": [1, 3, 4, 5, 6], "run": [1, 3, 4, 5], "choos": 1, "cell": 1, "right": [1, 3, 5], "shape": [1, 10], "just": [1, 4, 5, 6, 10], "larg": [1, 5, 10], "enough": [1, 4, 5, 10], "scienc": 1, "model": [1, 5, 10], "otherwis": [1, 3, 4, 10], "us": [1, 3, 4, 5], "linc": 1, "h": 1, "bond": [1, 6, 10], "constraint": [1, 6], "f": [1, 5, 6, 10], "step": [1, 4, 5, 6, 10], "Be": [1, 5], "awar": 1, "typic": [1, 4, 10], "water": 1, "rigid": 1, "fast": [1, 3, 4, 5, 10], "3": [1, 5, 7], "site": 1, "unless": [1, 4], "clear": [1, 10], "scientif": [1, 4], "reason": [1, 3, 4], "If": [1, 4, 5, 7, 8, 10], "ha": [1, 3, 4, 5, 7, 8], "layer": 1, "align": 1, "them": [1, 5, 6, 7, 8, 10], "x": 1, "y": 1, "plane": 1, "automat": [1, 5], "balanc": [1, 10], "divis": 1, "along": [1, 3], "z": 1, "axi": 1, "work": [1, 3, 4, 5, 6, 10], "well": [1, 5, 10], "dimens": 1, "much": [1, 4, 6, 10], "shorter": 1, "same": [1, 4, 5, 7, 8, 10], "abov": [1, 5, 6, 10], "write": [1, 5, 6, 10], "don": [1, 4, 5, 6], "t": [1, 4, 5, 6, 10], "yet": 1, "period": 1, "make": [1, 4, 5, 6, 7, 8, 10], "sens": [1, 5], "its": [1, 10], "autocorrel": 1, "product": [1, 3, 4], "energi": [1, 5], "group": [1, 5, 7, 8], "later": 1, "rerun": 1, "temperatur": 1, "pressur": 1, "coupl": 1, "everi": [1, 4], "nst": 1, "paramet": [1, 5, 10], "have": [1, 3, 4, 5, 6, 7, 8, 10], "factor": [1, 5, 10], "like": [1, 3, 4, 6, 7, 8], "100": [1, 10], "timestep": 1, "around": [1, 7, 8], "sometim": [1, 4, 5], "simpli": [1, 10], "possibl": [1, 4, 5, 10], "But": [1, 4, 5, 10], "often": [1, 4, 5], "goal": [1, 5, 6, 10], "best": [1, 3, 4, 6, 7, 8, 10], "met": 1, "similar": [1, 5, 10], "perhap": [1, 7, 8, 10], "even": [1, 3, 10], "equilibr": [1, 4], "veloc": [1, 4], "aggreg": 1, "sampl": [1, 4, 5, 10], "across": [1, 5, 7, 8], "multipl": [1, 3, 7, 8], "multi": 1, "These": [1, 5], "exploit": [1, 5], "fact": 1, "themselv": 1, "concurr": [1, 5, 10], "idl": [1, 6, 10], "updat": [1, 4, 6], "howev": [1, 4, 5], "share": [1, 3, 10], "settl": 1, "pattern": 1, "mutual": 1, "out": [1, 4, 5, 6, 10], "phase": [1, 4, 10], "cpu": [1, 5, 6, 10], "comput": [1, 4, 5, 6, 7, 8], "forc": [1, 4, 10], "neither": 1, "had": [1, 5], "resourc": [1, 6, 7, 8], "overal": 1, "rate": 1, "higher": 1, "would": [1, 3, 6], "lie": 1, "maxim": [1, 4], "util": 1, "own": 1, "dedic": [1, 7, 8], "It": [1, 3, 5, 6, 7, 8, 10], "might": [1, 4, 5, 10], "offload": [1, 5, 10], "rang": [1, 4, 10], "experi": [1, 3, 5, 6, 10], "exist": 1, "remain": [1, 10], "thu": [1, 5, 6, 10], "advantag": [1, 5, 10], "manual": [1, 4, 5, 6, 10], "take": [1, 5, 6, 10], "care": 1, "featur": [1, 5, 6], "detail": 1, "four": [1, 5], "rank": [1, 5, 6, 10], "mpirun": 1, "np": 1, "A": [1, 10], "b": 1, "c": [1, 3, 5, 6, 10], "d": [1, 5, 7], "0": [1, 3, 5, 7, 8, 10], "paper": [1, 4], "heterogen": [1, 3], "acceler": [1, 3], "molecular": [1, 3, 4, 5], "dynam": [1, 3, 4, 5], "http": [1, 3, 4, 5, 7, 8], "doi": [1, 3, 5], "org": [1, 3, 4, 5], "1063": [1, 3, 5], "0018516": [1, 3, 5], "arxiv": 1, "ab": 1, "2006": 1, "09167": 1, "inform": [1, 3, 5, 6, 10], "explor": [1, 6], "bang": [1, 3], "buck": [1, 3], "improv": [1, 3, 4, 10], "2018": [1, 3], "1002": [1, 3], "jcc": [1, 3], "26011": [1, 3], "biomolecular": [1, 3, 10], "24030": [1, 3], "implement": [1, 5, 10], "fulli": 1, "faster": [1, 5], "workshop": [3, 7, 8], "examin": [3, 5], "you": [3, 4, 5, 6, 10], "user": [3, 4, 5, 7, 8, 10], "get": [3, 4, 6, 7, 8, 10], "gener": [3, 4, 5, 7, 8, 10], "concept": 3, "introduc": 3, "brief": 3, "descript": 3, "familiar": 3, "experienc": 3, "link": 3, "document": [3, 5], "frequent": 3, "min": 3, "introduct": 3, "40": [3, 8], "algorithm": 3, "pme": [3, 6], "consider": [3, 10], "quick": 3, "instructor": 3, "guid": [3, 4], "target": 3, "toward": 3, "research": 3, "alreadi": [3, 5, 6], "learn": [3, 4, 5, 6, 10], "lesson": 3, "develop": [3, 4, 5, 6], "eurocc": 3, "nation": 3, "compet": 3, "center": 3, "sweden": 3, "encc": 3, "taught": 3, "aim": 3, "episod": 3, "clearli": 3, "defin": [3, 10], "object": 3, "includ": [3, 5, 7, 8], "exercis": [3, 5, 6, 10], "solut": 3, "therefor": 3, "also": [3, 5], "self": 3, "licens": 3, "under": 3, "cc": 3, "BY": 3, "reus": 3, "ani": [3, 5, 7, 8, 10], "form": [3, 5, 7, 8, 10], "appropri": 3, "wish": 3, "teach": 3, "practic": [3, 10], "advic": 3, "bioexcel": 3, "webinar": 3, "eu": [3, 8], "tune": 3, "base": [3, 5, 10], "2016": 3, "2019": 3, "09": [3, 5], "05": [3, 5], "6": 3, "setup": [3, 5], "7": [3, 10], "septemb": 3, "mdbenchmark": 3, "tediou": 3, "made": [3, 7, 8, 10], "straightforward": 3, "11": [3, 6, 10], "23": [3, 10], "public": 3, "file": [3, 4, 5, 6, 7, 8, 10], "structur": [3, 7, 8], "brows": 3, "layout": 3, "inspir": 3, "deriv": 3, "coderefineri": 3, "mit": [3, 10], "copi": 3, "adapt": [3, 7, 8], "text": 3, "avail": [3, 4, 5, 7, 8, 10], "creativ": 3, "attribut": [3, 10], "human": [3, 4, 5], "readabl": 3, "summari": 3, "substitut": 3, "full": [3, 10], "legal": 3, "free": 3, "redistribut": 3, "medium": 3, "format": 3, "remix": 3, "transform": 3, "build": [3, 4, 5], "upon": [3, 5], "purpos": 3, "commerci": 3, "licensor": 3, "cannot": 3, "revok": 3, "freedom": 3, "long": [3, 4, 5, 10], "term": 3, "must": [3, 10], "mention": 3, "copyright": 3, "se": 3, "indic": [3, 5], "chang": [3, 4, 5], "were": 3, "do": [3, 6, 7, 8, 10], "manner": 3, "wai": [3, 5, 10], "suggest": [3, 4], "endors": 3, "No": [3, 10], "addit": [3, 5], "restrict": 3, "appli": 3, "technolog": 3, "measur": 3, "anyth": [3, 4], "permit": [3, 10], "With": 3, "compli": 3, "element": 3, "an": [3, 4, 10], "applic": [3, 7, 8], "except": 3, "limit": [3, 4], "warranti": 3, "given": [3, 5], "permiss": [3, 5], "necessari": [3, 5], "intend": 3, "privaci": 3, "moral": 3, "program": [3, 7, 8], "osi": 3, "approv": 3, "import": [4, 5, 10], "iter": [4, 5], "solv": [4, 10], "equat": 4, "motion": 4, "thermodynam": 4, "ensembl": [4, 6], "posit": [4, 5], "turn": [4, 5, 10], "new": [4, 5, 6, 7, 8, 10], "procedur": 4, "billion": 4, "eventu": 4, "ie": [4, 5], "involv": [4, 5], "normal": [4, 5, 10], "femtosecond": 4, "conclus": 4, "macroscop": 4, "observ": [4, 5, 10], "slowli": [4, 5], "sinc": 4, "statist": 4, "relev": 4, "sure": [4, 5, 6, 7, 8], "those": [4, 5], "tini": 4, "reliabl": 4, "That": [4, 5, 10], "effort": [4, 5], "gone": 4, "engin": [4, 5], "budget": 4, "probabl": 4, "look": [4, 5, 6, 10], "hardwar": [4, 5, 10], "doe": [4, 5, 6, 10], "ok": 4, "guess": 4, "tri": 4, "altern": 4, "equival": [4, 10], "approach": [4, 6], "unfortun": [4, 5], "huge": 4, "autom": 4, "doesn": [4, 10], "result": [4, 10], "choic": [4, 5], "There": [4, 5, 7, 8], "trade": 4, "off": [4, 5, 10], "cheaper": 4, "fals": 4, "economi": 4, "spend": [4, 5, 6], "lot": [4, 10], "order": 4, "less": [4, 6, 7, 8, 10], "live": [4, 5], "minim": [4, 6, 10], "accept": [4, 5], "someth": [4, 5, 6, 10], "onc": [4, 6, 10], "worri": 4, "re": [4, 5, 6, 10], "begin": 4, "focu": [4, 5, 7, 8], "rule": 4, "thumb": 4, "kind": [4, 5, 10], "week": 4, "read": [4, 6, 10], "design": [4, 5], "plai": 4, "tutori": 4, "background": 4, "ve": 4, "done": [4, 5, 6, 10], "profit": 4, "meantim": [4, 5], "matter": [4, 10], "sysadmin": 4, "instal": 4, "mayb": 4, "postdoc": 4, "etc": 4, "report": [4, 6], "log": [4, 5, 6, 10], "wa": [4, 5, 7, 8, 10], "built": [4, 5, 7, 8], "worth": 4, "either": [4, 5], "yourself": 4, "version": [4, 5, 6, 10], "kei": 4, "point": 4, "seek": 4, "latest": 4, "compil": 4, "driver": 4, "librari": [4, 10], "check": [4, 5], "warn": 4, "could": [4, 7, 8], "configur": [4, 5, 6, 10], "doubl": 4, "precis": 4, "specif": 4, "current": [4, 5], "html": [4, 5], "aspect": 5, "abl": [5, 7, 8, 10], "name": [5, 6, 10], "appreci": 5, "architectur": 5, "stage": 5, "pipelin": 5, "depend": [5, 10], "arithmet": [5, 10], "latter": [5, 10], "harder": [5, 10], "separ": [5, 7, 8], "fortun": 5, "tend": 5, "former": 5, "domin": [5, 7, 8, 10], "hard": 5, "analys": 5, "amount": 5, "vari": [5, 10], "somewher": 5, "els": 5, "isn": 5, "known": 5, "advanc": 5, "divers": 5, "calcul": [5, 10], "natur": 5, "place": [5, 10], "mpi": 5, "openmp": 5, "thread": 5, "significantli": 5, "speed": [5, 10], "evalu": 5, "intens": 5, "thousand": [5, 7, 8, 10], "ten": 5, "electron": 5, "devic": 5, "massiv": 5, "ident": 5, "unit": [5, 7, 8], "readi": 5, "challeng": [5, 10], "render": 5, "complex": [5, 7, 8], "imag": 5, "onto": 5, "screen": 5, "been": [5, 7, 8], "befor": [5, 6, 10], "piec": 5, "team": 5, "mari": 5, "her": 5, "until": 5, "dinesh": 5, "hi": 5, "hopefulli": 5, "finish": [5, 6, 10], "come": [5, 10], "few": [5, 6, 7, 8, 10], "class": 5, "happen": 5, "field": [5, 10], "compon": [5, 10], "describ": 5, "chemic": 5, "static": 5, "parallelis": 5, "cost": 5, "simplest": 5, "code": 5, "room": 5, "biggest": 5, "workload": [5, 10], "truth": 5, "answer": [5, 6, 10], "treat": 5, "coulomb": [5, 10], "decai": 5, "frac": [5, 10], "r": [5, 10], "distanc": 5, "after": 5, "certain": 5, "becom": 5, "neglibl": 5, "cancel": 5, "contribut": [5, 10], "side": 5, "loop": 5, "pair": [5, 10], "pre": 5, "determin": [5, 10], "highli": 5, "almost": 5, "Its": [5, 6, 10], "scale": [5, 6, 10], "squar": 5, "poor": 5, "instead": [5, 10], "close": [5, 7, 8], "verlet": 5, "neighbor": 5, "diffus": 5, "rebuild": 5, "nice": 5, "too": 5, "still": 5, "boundari": 5, "add": [5, 6, 10], "buffer": 5, "requir": 5, "At": 5, "actual": [5, 10], "decid": 5, "whether": [5, 10], "sourc": 5, "recomput": 5, "hurt": 5, "size": [5, 10], "drift": 5, "total": [5, 7, 10], "refer": [5, 6, 10], "quit": [5, 7, 8], "defens": 5, "recommend": 5, "slight": 5, "further": 5, "slower": 5, "small": 5, "memori": [5, 7, 8], "effici": [5, 7, 8, 10], "noth": 5, "molecul": 5, "mere": 5, "togeth": [5, 7, 8], "illustr": 5, "left": 5, "panel": 5, "centric": 5, "solid": 5, "i1": 5, "green": [5, 10], "fill": 5, "circl": 5, "cutoff": 5, "dash": 5, "least": 5, "intersect": 5, "fall": 5, "outsid": 5, "repres": 5, "implicit": 5, "hierarch": 5, "super": 5, "i4": 5, "magenta": 5, "red": [5, 10], "blue": [5, 10], "j": 5, "joint": 5, "disc": 5, "black": 5, "grai": 5, "lighter": 5, "shade": 5, "e": [5, 6, 8, 10], "g": [5, 6, 8, 10], "jm": 5, "interest": [5, 7, 8, 10], "mathemat": 5, "function": 5, "behavior": 5, "select": [5, 10], "nb": [5, 6, 10], "now": [5, 6, 10], "One": [5, 6, 7, 10], "rel": [5, 10], "weak": [5, 10], "strong": [5, 10], "overhead": [5, 10], "offset": [5, 10], "power": [5, 7, 8, 10], "folder": [5, 6, 10], "mkdir": [5, 6, 10], "cd": [5, 6, 10], "download": [5, 6, 10], "prepar": [5, 6, 10], "50000": 5, "reaction": 5, "ll": [5, 6, 7, 8, 10], "submiss": [5, 6, 10], "mark": [5, 6, 10], "fixm": [5, 6, 10], "remov": [5, 6, 10], "achiev": [5, 6, 10], "state": [5, 6, 10], "comment": [5, 6, 10], "save": [5, 6, 10], "exit": [5, 6, 10], "submit": [5, 6, 7, 8, 10], "slurm": [5, 6, 7, 8, 10], "manag": [5, 6, 7, 8, 10], "repli": [5, 6, 10], "batch": [5, 6, 7, 8, 10], "4565494": [5, 6, 10], "succeed": [5, 6, 10], "termin": [5, 6, 10], "minut": [5, 6, 7, 8, 10], "tail": [5, 6, 10], "watch": [5, 6, 10], "sai": [5, 6, 10], "ctrl": [5, 6, 10], "command": [5, 6, 10], "ran": [5, 6, 10], "last": [5, 6, 10], "chunk": [5, 6, 10], "through": [5, 6, 10], "diff": [5, 6, 10], "origin": [5, 6, 10], "home": [5, 6, 10], "runner": [5, 6, 10], "content": [5, 6, 10], "12": [5, 10], "16": [5, 6, 10], "useless": [5, 6], "echo": [5, 6, 10], "produc": [5, 10], "19": [5, 7, 8, 10], "spent": 5, "search": [5, 10], "increas": [5, 10], "nstlist": 5, "effect": [5, 10], "accuraci": [5, 10], "wall": [5, 10], "326": 5, "182": 5, "310": 5, "1999": [5, 10], "9": [5, 6, 7, 8, 10], "hour": [5, 10], "529": 5, "746": 5, "045": 5, "sep": [5, 10], "04": 5, "24": 5, "18": [5, 10], "340": 5, "917": [5, 10], "17": [5, 6], "047": 5, "506": 5, "852": 5, "44": [5, 10], "322": 5, "644": [5, 10], "133": [5, 10], "535": 5, "554": 5, "underli": [5, 10], "variabl": [5, 6, 10], "crude": [5, 10], "impress": [5, 10], "perform": [6, 7, 8], "To": [6, 7, 8], "leverag": 6, "machineri": 6, "multigpu": 6, "complet": [6, 10], "inspect": [6, 10], "find": [6, 10], "id": [6, 10], "agre": [6, 10], "compar": 6, "gre": [6, 7, 8], "v100": [6, 7, 8], "reserv": [6, 7, 8], "gmx3": [6, 8], "connect": 6, "nvlink": 6, "directli": 6, "although": 6, "carefulli": 6, "cautious": 6, "environ": 6, "gmx_gpu_dd_comm": 6, "gmx_gpu_pme_pp_comm": 6, "exchang": 6, "pp": 6, "gpus_direct": 6, "comm": 6, "As": 6, "expect": [6, 7, 8, 10], "easili": 6, "hidden": 6, "behind": 6, "dir": 6, "did": 6, "overlap": 6, "leav": [6, 10], "wast": 6, "keep": [6, 7, 8, 10], "organ": [7, 8], "transfer": [7, 8], "finit": [7, 8], "critic": [7, 8, 10], "supercomput": [7, 8], "accompani": [7, 8], "port": [7, 8], "vendor": [7, 8], "nvidia": [7, 8, 10], "cuda": [7, 8], "framework": [7, 8], "ubiquit": [7, 8], "recent": [7, 8], "amd": [7, 8], "intel": [7, 8, 10], "won": [7, 8], "major": [7, 8], "contract": [7, 8], "world": [7, 8], "deliv": [7, 8], "machin": [7, 8, 10], "futur": [7, 8], "characterist": [7, 8], "socket": [7, 8], "hand": [7, 8], "nearbi": [7, 8], "locat": [7, 8], "lac": 7, "portug": 7, "www": [7, 8], "uc": 7, "pt": 7, "lca": 7, "clusterresourc": 7, "nearli": [7, 8], "modern": [7, 8], "notion": [7, 8], "uniform": [7, 8], "access": [7, 8], "closer": [7, 8], "particular": [7, 8], "programm": [7, 8], "alloc": [7, 8], "prefer": [7, 8], "slightli": [7, 8], "simplifi": [7, 8], "lstopo": [7, 8], "evenli": [7, 8], "packag": 7, "29": [7, 10], "30": 7, "39": [7, 8, 10], "numanod": [7, 8], "request": [7, 8], "schedul": [7, 8], "capabl": [7, 8], "todai": [7, 8], "simpl": [7, 8, 10], "sole": [7, 8], "match": [7, 8], "project": [7, 8], "train": 7, "runtim": 7, "hh": 7, "mm": 7, "mem": 7, "20gb": 7, "foss": 7, "2020b": 7, "queue": [7, 8], "quickli": [7, 8], "lumi": 8, "csc": 8, "finland": 8, "doc": 8, "fi": 8, "overview": 8, "80": 8, "inhomogen": 10, "partial": 10, "charg": 10, "neglect": 10, "beyond": 10, "cut": 10, "accur": 10, "extrem": 10, "reduc": 10, "elimin": 10, "truncat": 10, "artefact": 10, "ewald": 10, "method": 10, "compens": 10, "fix": 10, "decompos": 10, "gaussian": 10, "potenti": 10, "subtract": 10, "goe": 10, "zero": 10, "smaller": 10, "ad": 10, "back": 10, "smoothli": 10, "3d": 10, "fft": 10, "cufft": 10, "fftw": 10, "mkl": 10, "grid": 10, "space": 10, "approxim": 10, "qualiti": 10, "whenev": 10, "tunepm": 10, "notunepm": 10, "ye": 10, "cheap": 10, "radii": 10, "unbal": 10, "context": 10, "longer": 10, "upset": 10, "preserv": 10, "alwai": 10, "anywai": 10, "again": 10, "particularli": 10, "pmefft": 10, "Then": 10, "took": 10, "hint": 10, "minimum": 10, "tell": 10, "13": 10, "pmeall": 10, "pmefirst": 10, "079": 10, "913": 10, "607": 10, "381": 10, "558": 10, "90": 10, "582": 10, "265": 10, "25": 10, "42": 10, "20002": 10, "222": 10, "376": 10, "8": 10, "elec": 10, "10001": 10, "546": 10, "26": 10, "143": 10, "790": 10, "275": 10, "514": 10, "2000": 10, "43": 10, "735": 10, "549": 10, "27": 10, "967": 10, "908": 10, "261": 10, "379": 10, "323": 10, "91": 10, "115": 10, "263": 10, "28": 10, "932": 10, "1241": 10, "797": 10, "518": 10, "627": 10, "66": 10, "642": 10, "360": 10, "recal": 10, "earlier": 10, "said": 10, "oper": 10, "movement": 10, "reduct": 10, "whole": 10, "combin": 10, "support": 10, "topol": 10, "tpr": 10, "replac": 10, "wors": 10, "602": 10, "651": 10, "337": 10, "271": 10, "997": 10, "127": 10, "056": 10, "189": 10, "45": 10, "31": 10, "897": 10, "617": 10, "605": 10, "257": 10, "995": 10, "179": 10, "53": 10, "strength": 10}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"us": [0, 6, 7, 8, 10], "cpu": [0, 7, 8], "effici": [0, 1, 4, 6], "question": [0, 1, 4, 5, 6, 7, 8, 10], "object": [0, 1, 4, 5, 6, 7, 8, 10], "mpi": 0, "rank": 0, "openmp": 0, "thread": 0, "explor": [0, 5, 10], "perform": [0, 1, 3, 4, 5, 10], "solut": [0, 5, 6, 7, 8, 10], "ensembl": 0, "run": [0, 6, 7, 8, 10], "an": [0, 1, 5], "wai": [0, 6], "comput": [0, 10], "resourc": 0, "what": [0, 5], "scale": 0, "keypoint": [0, 1, 4, 5, 6, 7, 8, 10], "gener": 1, "consider": 1, "design": 1, "simul": [1, 5, 6, 10], "do": [1, 4, 5], "you": 1, "need": [1, 4], "speed": 1, "throughput": 1, "see": [1, 4, 7, 8], "also": [1, 4, 7, 8, 10], "instructor": 2, "": 2, "guid": 2, "gromac": [3, 4], "gpu": [3, 5, 6, 7, 8, 10], "prerequisit": 3, "refer": [3, 9], "who": 3, "i": [3, 5], "cours": 3, "about": [3, 4], "relat": [3, 7, 8], "materi": 3, "credit": 3, "instruct": 3, "softwar": 3, "introduct": 4, "why": 4, "we": 4, "good": 4, "from": [4, 5, 10], "when": [4, 5, 10], "care": 4, "easi": 4, "global": 4, "win": 4, "get": 5, "md": [5, 10], "algorithm": [5, 10], "workflow": [5, 10], "within": 5, "how": 5, "help": 5, "2": [5, 10], "1": [5, 7, 8, 10], "quiz": [5, 7, 8, 10], "best": 5, "reason": 5, "move": [5, 10], "most": [5, 6, 10], "computation": 5, "expens": 5, "task": 5, "short": 5, "rang": [5, 7, 8], "non": 5, "bond": 5, "forc": 5, "would": [5, 7, 8, 10], "like": [5, 10], "benefit": [5, 10], "interact": [5, 10], "multipl": 6, "node": [6, 7, 8], "sever": 6, "two": 6, "simultan": 6, "direct": 6, "commun": 6, "between": [6, 10], "The": 6, "multi": 6, "system": 6, "understand": [7, 8], "navig": 7, "trend": [7, 8], "hpc": [7, 8], "hardwar": [7, 8], "2021": 7, "which": [7, 8], "core": [7, 8], "least": [7, 8], "effect": [7, 8], "work": [7, 8], "card2": 7, "job": [7, 8], "puhti": 8, "gpu2": 8, "quick": 9, "pme": 10, "background": 10, "tune": 10, "3": 10, "mdrun": 10, "ha": 10, "van": 10, "der": 10, "waal": 10, "particl": 10, "should": 10, "cutoff": 10, "those": 10, "chang": 10, "match": 10, "electrostat": 10, "updat": 10, "constraint": 10}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Using CPUs efficiently": [[0, "using-cpus-efficiently"]], "Questions": [[0, "questions-0"], [1, "questions-0"], [4, "questions-0"], [5, "questions-0"], [6, "questions-0"], [7, "questions-0"], [8, "questions-0"], [10, "questions-0"]], "Objectives": [[0, "objectives-0"], [1, "objectives-0"], [4, "objectives-0"], [5, "objectives-0"], [6, "objectives-0"], [7, "objectives-0"], [8, "objectives-0"], [10, "objectives-0"]], "MPI ranks and OpenMP threads": [[0, "mpi-ranks-and-openmp-threads"]], "Explore performance with MPI and OpenMP": [[0, "exercise-0"]], "Solution": [[0, "solution-0"], [0, "solution-1"], [5, "solution-0"], [5, "solution-1"], [5, "solution-2"], [6, "solution-0"], [6, "solution-1"], [7, "solution-0"], [8, "solution-0"], [10, "solution-0"], [10, "solution-1"], [10, "solution-2"], [10, "solution-3"]], "Ensemble runs as an efficient way to use computational resources": [[0, "ensemble-runs-as-an-efficient-way-to-use-computational-resources"]], "What with the scaling?": [[0, "exercise-1"]], "Keypoints": [[0, "keypoints-0"], [1, "keypoints-0"], [4, "keypoints-0"], [5, "keypoints-0"], [6, "keypoints-0"], [7, "keypoints-0"], [8, "keypoints-0"], [10, "keypoints-0"]], "General considerations for performance": [[1, "general-considerations-for-performance"]], "Designing an efficient simulation": [[1, "designing-an-efficient-simulation"]], "Do you need speed or throughput?": [[1, "do-you-need-speed-or-throughput"]], "See also": [[1, "see-also"], [4, "see-also"], [7, "see-also"], [8, "see-also"]], "Instructor\u2019s guide": [[2, "instructor-s-guide"]], "GROMACS GPU performance": [[3, "gromacs-gpu-performance"]], "Prerequisites": [[3, "prerequisites-0"]], "Reference": [[3, null]], "Who is the course for?": [[3, "who-is-the-course-for"]], "About the course": [[3, "about-the-course"]], "Related material": [[3, "related-material"]], "Credits": [[3, "credits"]], "Instructional Material": [[3, "instructional-material"]], "Software": [[3, "software"]], "Introduction": [[4, "introduction"]], "Why do we need good performance from GROMACS": [[4, "why-do-we-need-good-performance-from-gromacs"]], "When do we not care about performance/efficiency?": [[4, "when-do-we-not-care-about-performance-efficiency"]], "Easy global wins": [[4, "easy-global-wins"]], "Getting performance from the MD algorithm": [[5, "getting-performance-from-the-md-algorithm"]], "Workflow within an MD simulation": [[5, "workflow-within-an-md-simulation"]], "How do GPUs help?": [[5, "how-do-gpus-help"]], "2.1 Quiz: What is the best reason for moving the\nmost computationally expensive tasks to the GPU?": [[5, "exercise-0"]], "Short-ranged non-bonded forces": [[5, "short-ranged-non-bonded-forces"]], "Bonded forces": [[5, "bonded-forces"]], "2.2 Quiz: When would it be most likely to benefit\n            from moving bonded interactions to the GPU?": [[5, "exercise-1"]], "Explore performance with bonded interactions": [[5, "exercise-2"]], "Using multiple GPUs": [[6, "using-multiple-gpus"]], "Nodes with several GPUs": [[6, "nodes-with-several-gpus"]], "Run simulation on two GPUs simultaneously": [[6, "exercise-0"], [6, "exercise-1"]], "Using direct communications between GPUs": [[6, "using-direct-communications-between-gpus"]], "The most efficient way to use multi-GPU systems": [[6, "the-most-efficient-way-to-use-multi-gpu-systems"]], "Understanding Navigator GPU nodes": [[7, "understanding-navigator-gpu-nodes"]], "Trends in HPC hardware in 2021": [[7, "trends-in-hpc-hardware-in-2021"]], "Navigator GPU nodes": [[7, "navigator-gpu-nodes"]], "1.1 Quiz: Which range of CPU cores would be least\neffective to use in work related to card2?": [[7, "exercise-0"]], "Running jobs on Navigator": [[7, "running-jobs-on-navigator"]], "Understanding Puhti GPU nodes": [[8, "understanding-puhti-gpu-nodes"]], "Trends in HPC hardware": [[8, "trends-in-hpc-hardware"]], "Puhti GPU nodes": [[8, "puhti-gpu-nodes"]], "1.1 Quiz: Which range of CPU cores would be least\neffective to use in work related to gpu2?": [[8, "exercise-0"]], "Running jobs on Puhti": [[8, "running-jobs-on-puhti"]], "Quick Reference": [[9, "quick-reference"]], "Performant PME simulations": [[10, "performant-pme-simulations"]], "Background on the PME algorithm": [[10, "background-on-the-pme-algorithm"]], "PME tuning": [[10, "pme-tuning"]], "3.1 Quiz: mdrun also has to compute the van der Waals\ninteractions between particles. Should the cutoff for those be changed\nto match the tuned electrostatic cutoff": [[10, "exercise-0"]], "MD workflows using PME": [[10, "md-workflows-using-pme"]], "3.2 Quiz: When would it be most likely to benefit\n            from moving PME interactions to the GPU?": [[10, "exercise-1"]], "Explore performance with PME": [[10, "exercise-2"]], "Running update and constraints on the GPU": [[10, "running-update-and-constraints-on-the-gpu"]], "Explore GPU updates": [[10, "exercise-3"]]}, "indexentries": {}})